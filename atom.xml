<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Andy&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://andysheng.cn/"/>
  <updated>2017-04-23T16:48:04.000Z</updated>
  <id>http://andysheng.cn/</id>
  
  <author>
    <name>Andy Sheng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>gcd</title>
    <link href="http://andysheng.cn/2017/02/19/2017-2-19-gcd/"/>
    <id>http://andysheng.cn/2017/02/19/2017-2-19-gcd/</id>
    <published>2017-02-19T09:35:08.000Z</published>
    <updated>2017-04-23T16:48:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·å–é˜Ÿåˆ—"><a href="#è·å–é˜Ÿåˆ—" class="headerlink" title="è·å–é˜Ÿåˆ—"></a>è·å–é˜Ÿåˆ—</h2><p>æ”¯æŒä¸¤ç§é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œç³»ç»Ÿçš„mainé˜Ÿåˆ—å°±æ˜¯ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œæ‰€æœ‰çš„UIæ“ä½œéƒ½åœ¨è¿™ä¸ªé˜Ÿåˆ—å½“ä¸­ï¼›å¦ä¸€ç§æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æŒ‰ç…§æ·»åŠ é¡ºåºè¿è¡Œï¼Œè¿è¡Œç»“æŸçš„æ—¶é—´ä¸ç¡®å®šã€‚</p>
<h3 id="1-è·å–ä¸»é˜Ÿåˆ—"><a href="#1-è·å–ä¸»é˜Ÿåˆ—" class="headerlink" title="1.è·å–ä¸»é˜Ÿåˆ—"></a>1.è·å–ä¸»é˜Ÿåˆ—</h3><p>æ‰€æœ‰çš„UIæ“ä½œéƒ½å¿…é¡»æ”¾åˆ°ä¸»é˜Ÿåˆ—ä¸­ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t queue = dispatch_get_main_queue();</div></pre></td></tr></table></figure></p>
<h3 id="2-è·å–å…¨å±€é˜Ÿåˆ—"><a href="#2-è·å–å…¨å±€é˜Ÿåˆ—" class="headerlink" title="2.è·å–å…¨å±€é˜Ÿåˆ—"></a>2.è·å–å…¨å±€é˜Ÿåˆ—</h3><p>å…¨å±€é˜Ÿåˆ—æœ‰å››ç§ä¼˜å…ˆçº§<code>DISPATCH_QUEUE_PRIORITY_HIGH</code>,<code>DISPATCH_QUEUE_PRIORITY_LOW</code>,<code>DISPATCH_QUEUE_PRIORITY_DEFAULT</code>,<code>DISPATCH_QUEUE_PRIORITY_BACKGROUND</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0);</div></pre></td></tr></table></figure>
<h3 id="3-åˆ›å»ºè‡ªå®šä¹‰é˜Ÿåˆ—"><a href="#3-åˆ›å»ºè‡ªå®šä¹‰é˜Ÿåˆ—" class="headerlink" title="3.åˆ›å»ºè‡ªå®šä¹‰é˜Ÿåˆ—"></a>3.åˆ›å»ºè‡ªå®šä¹‰é˜Ÿåˆ—</h3><p>ç¬¬ä¸€ä¸ªå‚æ•°æ—¶é˜Ÿåˆ—çš„åå­—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯é˜Ÿåˆ—çš„ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_queue_t queue = dispath_queue_create(&quot;queue&quot;, DISPATCH_QUEUE_CONCURRENT);</div></pre></td></tr></table></figure>
<h2 id="è¿è¡Œä»»åŠ¡"><a href="#è¿è¡Œä»»åŠ¡" class="headerlink" title="è¿è¡Œä»»åŠ¡"></a>è¿è¡Œä»»åŠ¡</h2><h3 id="1-è¿è¡ŒåŒæ­¥ä»»åŠ¡"><a href="#1-è¿è¡ŒåŒæ­¥ä»»åŠ¡" class="headerlink" title="1.è¿è¡ŒåŒæ­¥ä»»åŠ¡"></a>1.è¿è¡ŒåŒæ­¥ä»»åŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dispatch_sync(queue, ^&#123;  </div><div class="line">	code;  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>è¿è¡ŒåŒæ­¥ä»»åŠ¡è¦ç‰¹åˆ«æ³¨æ„æ­»é”çš„æƒ…å†µï¼Œä¸‹é¢è¿™ä¸ªæƒ…å†µå·²ç»æ­»é”ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">dispatch_sync(queue, ^&#123;  </div><div class="line">	dispatch_sync(queue, ^&#123;  </div><div class="line">		code;  </div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="2-è¿è¡Œå¼‚æ­¥ä»»åŠ¡"><a href="#2-è¿è¡Œå¼‚æ­¥ä»»åŠ¡" class="headerlink" title="2.è¿è¡Œå¼‚æ­¥ä»»åŠ¡"></a>2.è¿è¡Œå¼‚æ­¥ä»»åŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dispatch_async(queue, ^&#123;  </div><div class="line">	code;  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="3-è¿è¡Œå»¶æ—¶ä»»åŠ¡"><a href="#3-è¿è¡Œå»¶æ—¶ä»»åŠ¡" class="headerlink" title="3.è¿è¡Œå»¶æ—¶ä»»åŠ¡"></a>3.è¿è¡Œå»¶æ—¶ä»»åŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">double delayInSeconds = 1.0;  </div><div class="line">dispatch_time_t time = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));   </div><div class="line">dispatch_after(time, queue, ^(void)&#123;  </div><div class="line">       code;  </div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
<h3 id="4-è¿è¡Œä¸ä¸é˜Ÿåˆ—ä¸­å…¶ä»–ä»»åŠ¡å¹¶è¡Œåœ°ä»»åŠ¡"><a href="#4-è¿è¡Œä¸ä¸é˜Ÿåˆ—ä¸­å…¶ä»–ä»»åŠ¡å¹¶è¡Œåœ°ä»»åŠ¡" class="headerlink" title="4.è¿è¡Œä¸ä¸é˜Ÿåˆ—ä¸­å…¶ä»–ä»»åŠ¡å¹¶è¡Œåœ°ä»»åŠ¡"></a>4.è¿è¡Œä¸ä¸é˜Ÿåˆ—ä¸­å…¶ä»–ä»»åŠ¡å¹¶è¡Œåœ°ä»»åŠ¡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dispatch_barrier_async(queue, ^&#123;  </div><div class="line">	code;  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="5-è¿è¡Œåªè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡"><a href="#5-è¿è¡Œåªè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡" class="headerlink" title="5.è¿è¡Œåªè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡"></a>5.è¿è¡Œåªè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡</h3><p>å¸¸ç”¨æ¥åˆ›å»ºå•ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">static dispatch_once_t onceToken;  </div><div class="line">dispatch_once(&amp;onceToken, ^&#123;  </div><div class="line">	code;  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="ç›‘æ§ä»»åŠ¡å®Œæˆ"><a href="#ç›‘æ§ä»»åŠ¡å®Œæˆ" class="headerlink" title="ç›‘æ§ä»»åŠ¡å®Œæˆ"></a>ç›‘æ§ä»»åŠ¡å®Œæˆ</h2><p>åˆ©ç”¨Dispatch Groupså¯¹é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è¿›è¡Œç›‘æ§ã€‚</p>
<h3 id="1-åˆ›å»ºç»„"><a href="#1-åˆ›å»ºç»„" class="headerlink" title="1.åˆ›å»ºç»„"></a>1.åˆ›å»ºç»„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_group_t group = dispatch_group_create();</div></pre></td></tr></table></figure>
<h3 id="2-é€šçŸ¥groupä»»åŠ¡å¼€å§‹å’Œç»“æŸ"><a href="#2-é€šçŸ¥groupä»»åŠ¡å¼€å§‹å’Œç»“æŸ" class="headerlink" title="2.é€šçŸ¥groupä»»åŠ¡å¼€å§‹å’Œç»“æŸ"></a>2.é€šçŸ¥groupä»»åŠ¡å¼€å§‹å’Œç»“æŸ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dispatch_group_enter(group);  </div><div class="line">do some work here;  </div><div class="line">dispatch_group_leave(group);</div></pre></td></tr></table></figure>
<h3 id="3-ç›‘æ§ç»„å†…çš„ä»»åŠ¡æ˜¯å¦éƒ½å®Œæˆ"><a href="#3-ç›‘æ§ç»„å†…çš„ä»»åŠ¡æ˜¯å¦éƒ½å®Œæˆ" class="headerlink" title="3.ç›‘æ§ç»„å†…çš„ä»»åŠ¡æ˜¯å¦éƒ½å®Œæˆ"></a>3.ç›‘æ§ç»„å†…çš„ä»»åŠ¡æ˜¯å¦éƒ½å®Œæˆ</h3><p><code>dispatch_group_wait</code>ä¼šé€ æˆå½“å‰çº¿ç¨‹é˜»å¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dispatch_group_wait(group, DISPATCH_TIME_FOREVER);</div></pre></td></tr></table></figure>
<p><code>dispatch_group_notify</code>ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;  </div><div class="line">    code;  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è·å–é˜Ÿåˆ—&quot;&gt;&lt;a href=&quot;#è·å–é˜Ÿåˆ—&quot; class=&quot;headerlink&quot; title=&quot;è·å–é˜Ÿåˆ—&quot;&gt;&lt;/a&gt;è·å–é˜Ÿåˆ—&lt;/h2&gt;&lt;p&gt;æ”¯æŒä¸¤ç§é˜Ÿåˆ—ï¼Œä¸€ç§æ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œç³»ç»Ÿçš„mainé˜Ÿåˆ—å°±æ˜¯ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œæ‰€æœ‰çš„UIæ“ä½œéƒ½åœ¨è¿™ä¸ªé˜Ÿåˆ—å½“ä¸­ï¼›å¦ä¸€ç§æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="gcd" scheme="http://andysheng.cn/tags/gcd/"/>
    
      <category term="ios" scheme="http://andysheng.cn/tags/ios/"/>
    
      <category term="objective-c" scheme="http://andysheng.cn/tags/objective-c/"/>
    
  </entry>
  
  <entry>
    <title>Java reflect</title>
    <link href="http://andysheng.cn/2017/01/05/2017-1-5-java-reflect/"/>
    <id>http://andysheng.cn/2017/01/05/2017-1-5-java-reflect/</id>
    <published>2017-01-05T15:11:50.000Z</published>
    <updated>2017-02-25T07:08:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Java-åå°„"><a href="#Java-åå°„" class="headerlink" title="Java åå°„"></a>Java åå°„</h2><h3 id="å®ä¾‹åŒ–ç±»"><a href="#å®ä¾‹åŒ–ç±»" class="headerlink" title="å®ä¾‹åŒ–ç±»"></a>å®ä¾‹åŒ–ç±»</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Object user = Class.forName(&quot;cn.andysheng.models.User&quot;).newInstance();</div></pre></td></tr></table></figure>
<h3 id="å±æ€§æ³¨å…¥"><a href="#å±æ€§æ³¨å…¥" class="headerlink" title="å±æ€§æ³¨å…¥"></a>å±æ€§æ³¨å…¥</h3><p>è·å–å±æ€§çš„setteræ–¹æ³•,é€šè¿‡invokeå‡½æ•°è°ƒç”¨setteræ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Method setterMethod = obj.getClass().getMethod(&quot;setName&quot;, paramClass);   </div><div class="line">setterMethod.invoke(obj, val);</div></pre></td></tr></table></figure>
<h3 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h3><p>ä½¿ç”¨Javaçš„Annotationå’Œreflectå®ç°ä¸€ä¸ªç®€å•çš„æ¨¡å‹å±‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@Target(ElementType.TYPE)  </div><div class="line">@Retention(RetentionPolicy.RUNTIME)  </div><div class="line">@Inherited  </div><div class="line">public @interface Table &#123;  </div><div class="line">    String value();  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@Target(ElementType.FIELD)  </div><div class="line">@Retention(RetentionPolicy.RUNTIME)  </div><div class="line">@Inherited  </div><div class="line">public @interface Column &#123;  </div><div class="line">    String value();  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">@Table(&quot;user&quot;)  </div><div class="line">public class User extends Model &#123;  </div><div class="line">  </div><div class="line">    @Column(&quot;id&quot;)  </div><div class="line">    Integer id;  </div><div class="line">  </div><div class="line">    @Column(&quot;name&quot;)  </div><div class="line">    String name;  </div><div class="line">  </div><div class="line">    public void setId(Integer id) &#123;  </div><div class="line">        this.id = id;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    public Integer getId() &#123;  </div><div class="line">        return id;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    public void setName(String name) &#123;  </div><div class="line">        this.name = name;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    public String getName() &#123;  </div><div class="line">        return name;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">public class Model &#123;  </div><div class="line">  </div><div class="line">    public String query()  </div><div class="line">    &#123;  </div><div class="line">        StringBuilder query = new StringBuilder(&quot;select * from &quot;);  </div><div class="line">  </div><div class="line">        Table tableAnno = (Table)this.getClass().getAnnotation(Table.class);  </div><div class="line">        query.append(tableAnno.value());  </div><div class="line">  </div><div class="line">        query.append(&quot; where 1=1&quot;);  </div><div class="line">  </div><div class="line"></div><div class="line">        for (Field field: this.getClass().getDeclaredFields()) &#123;  </div><div class="line">            Column colAnno = field.getAnnotation(Column.class);  </div><div class="line">            if (colAnno != null) &#123;  </div><div class="line">                Method getMethod = null;  </div><div class="line">                try &#123;  </div><div class="line">                    getMethod = this.getClass()  </div><div class="line">                            .getMethod(&quot;get&quot; +field.getName().substring(0,1).toUpperCase() + field.getName().substring(1));</div><div class="line">                    query.append(&quot; and &quot;+colAnno.value() + &quot;=&quot;+getMethod.invoke(this));</div><div class="line">                &#125; catch (NoSuchMethodException|IllegalAccessException|InvocationTargetException e) &#123;  </div><div class="line">                    e.printStackTrace();  </div><div class="line">                &#125;  </div><div class="line"></div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        return query.toString();  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Java-åå°„&quot;&gt;&lt;a href=&quot;#Java-åå°„&quot; class=&quot;headerlink&quot; title=&quot;Java åå°„&quot;&gt;&lt;/a&gt;Java åå°„&lt;/h2&gt;&lt;h3 id=&quot;å®ä¾‹åŒ–ç±»&quot;&gt;&lt;a href=&quot;#å®ä¾‹åŒ–ç±»&quot; class=&quot;headerlink&quot; titl
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="java" scheme="http://andysheng.cn/tags/java/"/>
    
      <category term="reflect" scheme="http://andysheng.cn/tags/reflect/"/>
    
  </entry>
  
  <entry>
    <title>crontabçš„ä½¿ç”¨</title>
    <link href="http://andysheng.cn/2016/12/01/2016-12-1-crontab/"/>
    <id>http://andysheng.cn/2016/12/01/2016-12-1-crontab/</id>
    <published>2016-11-30T16:22:05.000Z</published>
    <updated>2017-04-23T16:42:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="crontabæ˜¯ä»€ä¹ˆ"><a href="#crontabæ˜¯ä»€ä¹ˆ" class="headerlink" title="crontabæ˜¯ä»€ä¹ˆ"></a>crontabæ˜¯ä»€ä¹ˆ</h2><p>  *nixå¹³å°ä¸­å®šæ—¶æ‰§è¡Œä»»åŠ¡çš„å·¥å…·ï¼Œæ¯”æ–¹å®šæ—¶å¤‡ä»½æ•°æ®åº“ã€é‡å¯æœåŠ¡å™¨ä¹‹ç±»ã€‚åœ¨å¤§å·´WiFiä¸­ï¼Œé‡‡ç”¨crontabæ¯éš”å‡ åˆ†é’Ÿæ‰§è¡Œä¸€ä¸ªè„šæœ¬æ£€æŸ¥ä¸€æ¬¡æ‰€æœ‰é€šè¿‡å¾®ä¿¡é“¾æ¥WiFiçš„ç”¨æˆ·æ˜¯å¦å…³æ³¨äº†å…¬ä¼—å·ï¼Œæ²¡å…³æ³¨å°±è¸¢ä¸‹WiFiã€‚æ¯”è¾ƒç®€å•åœ°å®ç°äº†ä¸å…³æ³¨å…¬ä¼—å·å°±åªç»™ä¸Šå‡ åˆ†é’Ÿç½‘çš„åŠŸèƒ½ã€‚</p>
<h2 id="crontabæ€ä¹ˆç”¨"><a href="#crontabæ€ä¹ˆç”¨" class="headerlink" title="crontabæ€ä¹ˆç”¨"></a>crontabæ€ä¹ˆç”¨</h2><p>åŸºæœ¬ç”¨æ³•</p>
<pre><code>*  *  *  *  * command
åˆ† æ—¶ æ—¥ æœˆ å‘¨  æŒ‡ä»¤
</code></pre><p>æˆ–è€…</p>
<pre><code>*  *  *  *  * user command
åˆ† æ—¶ æ—¥ æœˆ å‘¨  ç”¨æˆ·  æŒ‡ä»¤
</code></pre><p>ä¹Ÿå¯ä»¥ç”¨<code>A-C/B</code>çš„å½¢å¼æŒ‡å®šåˆ†æ—¶æ—¥æœˆå‘¨ï¼Œä»¥åˆ†ä¸ºä¾‹ï¼Œæ˜¯Aåˆ†é’Ÿåˆ°Cåˆ†é’Ÿä¹‹é—´ï¼Œæ¯Båˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚<code>A-C</code>å¯ä»¥ä½¿ç”¨<code>*</code>ä»£æ›¿ï¼ŒæŒ‡æ¯Båˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>crontabåœ¨è¿è¡Œå‘½ä»¤åï¼Œä¼šå‘é€ä¸€ä»½é‚®ä»¶ã€‚å¦‚æœä¸æƒ³æ”¶åˆ°é‚®ä»¶æˆ–è€…æ²¡æœ‰é…ç½®é‚®ç®±ï¼Œåˆ™å¯ä»¥ç›´æ¥æŠŠå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªç©ºè®¾å¤‡ï¼Œå³<code>command &gt; /dev/null &amp;</code>ã€‚</p>
<h2 id="ä½¿ç”¨crontabä¸­çš„å‘ï¼Œå¯èƒ½å¯¼è‡´ä»»åŠ¡æ— æ³•æ‰§è¡Œ"><a href="#ä½¿ç”¨crontabä¸­çš„å‘ï¼Œå¯èƒ½å¯¼è‡´ä»»åŠ¡æ— æ³•æ‰§è¡Œ" class="headerlink" title="ä½¿ç”¨crontabä¸­çš„å‘ï¼Œå¯èƒ½å¯¼è‡´ä»»åŠ¡æ— æ³•æ‰§è¡Œ"></a>ä½¿ç”¨crontabä¸­çš„å‘ï¼Œå¯èƒ½å¯¼è‡´ä»»åŠ¡æ— æ³•æ‰§è¡Œ</h2><p>1.å°½é‡ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚crontabæ‰§è¡Œå‘½ä»¤çš„ç¯å¢ƒå˜é‡å’Œç»ˆç«¯ä¸­æ˜¯ä¸ä¸€æ ·çš„ã€‚crontabçš„PATHå˜é‡åœ¨<code>/etc/crontab</code>æ–‡ä»¶çš„å¤´éƒ¨å®šä¹‰ï¼Œæ‰€ä»¥è¦ä¸å°±æŠŠéœ€è¦çš„è·¯å¾„åŠ åˆ°crontabçš„PATHä¸­å»ï¼Œè¦ä¸ç´¢æ€§å…¨éƒ¨ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­ç¢°åˆ°äº†<code>/rg_sbin</code>ä¸åœ¨PATHä¸­ï¼Œ å’ŒPATHæ²¡æœ‰pythonçš„é—®é¢˜ã€‚èŠ±äº†å¾ˆå¤šæ—¶é—´æ‰å‘ç°äº†é—®é¢˜ã€‚ğŸ˜­<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6jw1fahkggjqa0j21kw1677ev.jpg" alt=""></p>
<p>2.ç³»ç»Ÿä»»åŠ¡å’Œç”¨æˆ·ä»»åŠ¡çš„åŒºåˆ«ã€‚åƒä¸‡è®°ä½ï¼Œ<code>/etc/crontab</code>ä¸­é…ç½®çš„æ˜¯ç³»ç»Ÿçš„å®šæ—¶ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯éœ€è¦åˆ¶å®šuserçš„ï¼Œä½†æ˜¯åœ¨<code>crontab -e</code>ä¸­ç¼–è¾‘çš„ç”¨æˆ·ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯æ²¡æœ‰userå­—æ®µçš„ã€‚è¦æ˜¯åœ¨<code>crontab -e</code>ä¸­å¸¦ä¸Šäº†userï¼Œæ‰€æœ‰å‘½ä»¤éƒ½ä¼šå˜æˆç±»ä¼¼root commandï¼Œå¯¼è‡´ä»»åŠ¡éƒ½æ— æ³•æ‰§è¡Œã€‚</p>
<p>é¡¹ç›®ä¸­ç¢°åˆ°äº†ä¸€å€‹ç¥å¥‡çš„é—®é¢˜ï¼Œé”æ·çš„è®¾å¤‡ä¼šè‡ªåŠ¨æŠŠ/etc/crontabä¸­çš„æŒ‡ä»¤å¤åˆ¶åˆ°rootç”¨æˆ·çš„ç”¨æˆ·crontabä¸­ï¼Œè€Œä¸”æ˜¯å¸¦äº†userçš„ï¼Œå…¨éƒ¨å‘½ä»¤éƒ½æ˜¯<code>root command</code>çš„å½¢å¼ï¼Œåº”è¯¥æ˜¯ä¸èƒ½æ‰§è¡Œçš„ï¼ŒçœŸæ˜¯è¯¡å¼‚ã€‚</p>
<p>3.crontabä»»åŠ¡å®åœ¨æ— æ³•è¿è¡Œæ—¶ï¼Œä¸å¦¨å¼€å¯æ—¥å¿—ï¼ŒæŸ¥çœ‹crontabæ—¥å¿—ã€‚crontabçš„æ—¥å¿—éœ€è¦åœ¨<code>/etc/rsyslog.d/50-default.conf</code>ä¸­å¼€å¯ï¼Œç„¶åé‡å¯rsyslogå’ŒcronæœåŠ¡ã€‚<br><img src="http://ww1.sinaimg.cn/large/65e4f1e6jw1fahkp0oeiej21kw167gw8.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;crontabæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#crontabæ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;crontabæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;crontabæ˜¯ä»€ä¹ˆ&lt;/h2&gt;&lt;p&gt;  *nixå¹³å°ä¸­å®šæ—¶æ‰§è¡Œä»»åŠ¡çš„å·¥å…·ï¼Œæ¯”æ–¹å®šæ—¶å¤‡ä»½æ•°æ®åº“ã€é‡å¯æœåŠ¡å™¨ä¹‹ç±»ã€‚åœ¨
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="linux" scheme="http://andysheng.cn/tags/linux/"/>
    
      <category term="crontab" scheme="http://andysheng.cn/tags/crontab/"/>
    
      <category term="cron" scheme="http://andysheng.cn/tags/cron/"/>
    
      <category term="é”æ·" scheme="http://andysheng.cn/tags/%E9%94%90%E6%8D%B7/"/>
    
  </entry>
  
  <entry>
    <title>xcodeå¿«æ·é”®</title>
    <link href="http://andysheng.cn/2015/10/14/2015-10-14-xcode/"/>
    <id>http://andysheng.cn/2015/10/14/2015-10-14-xcode/</id>
    <published>2015-10-14T05:21:41.000Z</published>
    <updated>2016-11-30T16:22:27.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>ç¼–è¾‘</p>
<ul>
<li>ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦– Ctrl + A</li>
<li>ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾ Ctrl + E</li>
</ul>
</li>
<li><p>å·¥ç¨‹å¯¼èˆªæ  Command + 1</p>
</li>
<li><p>æ˜¾ç¤º/éšè—å¯¼èˆªå™¨é¢æ¿(ç•Œé¢å·¦è¾¹) Command + 0</p>
</li>
<li><p>æ˜¾ç¤º/éšè—ä½¿ç”¨å·¥å…·é¢æ¿ï¼ˆç•Œé¢å³è¾¹ï¼‰ Command + Option + 0</p>
</li>
<li><p>åœ¨è¾…åŠ©ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶ åœ¨å·¥ç¨‹å¯¼èˆªå™¨ä¸­æŒ‰ä½Optionå¹¶ç‚¹å‡»æ–‡ä»¶</p>
</li>
<li><p>æœç´¢ Command + Shift + F</p>
</li>
<li><p>æ–‡ä»¶è·³è½¬æ </p>
</li>
<li><p>å¿«é€Ÿæ‰“å¼€ Command + Shift + O ï¼ˆç±»ä¼¼sublimeä¸­çš„ command + pï¼‰</p>
</li>
<li><p>åœ¨ç›¸å…³çš„ .h æ–‡ä»¶å’Œ .mæ–‡ä»¶ä¸­å¿«é€Ÿåˆ‡æ¢ Command + Shift + Up Arrow</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç¼–è¾‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦– Ctrl + A&lt;/li&gt;
&lt;li&gt;ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾ Ctrl + E&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å·¥ç¨‹å¯¼èˆªæ  Command + 1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç¤º/éšè—å¯¼èˆªå™¨é¢æ¿
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="xcode" scheme="http://andysheng.cn/tags/xcode/"/>
    
      <category term="iOS" scheme="http://andysheng.cn/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Vimç¬”è®°</title>
    <link href="http://andysheng.cn/2015/07/26/2015-5-30-vim/"/>
    <id>http://andysheng.cn/2015/07/26/2015-5-30-vim/</id>
    <published>2015-07-26T14:53:36.000Z</published>
    <updated>2015-07-26T15:14:07.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºæœ¬çš„æ“ä½œ"><a href="#åŸºæœ¬çš„æ“ä½œ" class="headerlink" title="åŸºæœ¬çš„æ“ä½œ"></a>åŸºæœ¬çš„æ“ä½œ</h2><h3 id="å…‰æ ‡ç§»åŠ¨"><a href="#å…‰æ ‡ç§»åŠ¨" class="headerlink" title="å…‰æ ‡ç§»åŠ¨"></a>å…‰æ ‡ç§»åŠ¨</h3><ul>
<li>ä¸‹ï¼š<code>j</code></li>
<li>ä¸Šï¼š<code>k</code></li>
<li>å³ï¼š<code>l</code></li>
<li>å·¦ï¼š<code>h</code></li>
</ul>
<h3 id="é€‰ä¸­ã€å¤åˆ¶ç²˜å¸–"><a href="#é€‰ä¸­ã€å¤åˆ¶ç²˜å¸–" class="headerlink" title="é€‰ä¸­ã€å¤åˆ¶ç²˜å¸–"></a>é€‰ä¸­ã€å¤åˆ¶ç²˜å¸–</h3><ul>
<li>é€‰ä¸­ï¼š<code>v</code></li>
<li>å¤åˆ¶ï¼š<code>y</code></li>
<li>ç²˜å¸–ï¼š<code>p</code> </li>
</ul>
<h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŸºæœ¬çš„æ“ä½œ&quot;&gt;&lt;a href=&quot;#åŸºæœ¬çš„æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬çš„æ“ä½œ&quot;&gt;&lt;/a&gt;åŸºæœ¬çš„æ“ä½œ&lt;/h2&gt;&lt;h3 id=&quot;å…‰æ ‡ç§»åŠ¨&quot;&gt;&lt;a href=&quot;#å…‰æ ‡ç§»åŠ¨&quot; class=&quot;headerlink&quot; title=&quot;å…‰æ ‡ç§»åŠ¨&quot;
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="vim" scheme="http://andysheng.cn/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>pymongo</title>
    <link href="http://andysheng.cn/2015/07/26/2015-5-20-pymongo/"/>
    <id>http://andysheng.cn/2015/07/26/2015-5-20-pymongo/</id>
    <published>2015-07-26T14:53:15.000Z</published>
    <updated>2015-11-30T08:43:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h2><ul>
<li><p>é“¾æ¥æ•°æ®åº“<br>  <code>db = pymongo.Connect(&#39;localhost&#39;, port)</code></p>
</li>
<li><p>é€‰æ‹©æ•°æ®åº“<br>  <code>db = db.test</code></p>
</li>
<li><p>è·å–èšé›†å<br>  <code>db.collection_names()</code></p>
</li>
</ul>
<h2 id="CURDæ“ä½œ"><a href="#CURDæ“ä½œ" class="headerlink" title="CURDæ“ä½œ:"></a>CURDæ“ä½œ:</h2><ul>
<li><p>æ’å…¥<br>  <code>db.testData.insert({&#39;name&#39;:&#39;test&#39;})</code></p>
</li>
<li><p>æŸ¥è¯¢</p>
<ul>
<li><code>python</code> </li>
<li><code>db.testData.find_one()</code></li>
<li><code>db.testData.find({&#39;name&#39;:&#39;andy&#39;})</code></li>
<li><code>sort limit</code></li>
</ul>
</li>
<li><p>ä¿®æ”¹<br>  <code>db.testData.update({&#39;name&#39;:&#39;andy&#39;}, {&#39;$set&#39;:{&#39;email&#39;:&#39;hehe&#39;}})</code></p>
</li>
<li><p>åˆ é™¤<br>  <code>db.testData.remove({&#39;name&#39;:&#39;andy&#39;})</code></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é“¾æ¥ï¼š&quot;&gt;&lt;a href=&quot;#é“¾æ¥ï¼š&quot; class=&quot;headerlink&quot; title=&quot;é“¾æ¥ï¼š&quot;&gt;&lt;/a&gt;é“¾æ¥ï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é“¾æ¥æ•°æ®åº“&lt;br&gt;  &lt;code&gt;db = pymongo.Connect(&amp;#39;localhost&amp;#39;
    
    </summary>
    
      <category term="note" scheme="http://andysheng.cn/categories/note/"/>
    
    
      <category term="Python" scheme="http://andysheng.cn/tags/Python/"/>
    
      <category term="Pymongo" scheme="http://andysheng.cn/tags/Pymongo/"/>
    
      <category term="MongoDB" scheme="http://andysheng.cn/tags/MongoDB/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Jekyllä¸­ä½¿ç”¨disqus</title>
    <link href="http://andysheng.cn/2015/07/26/2015-7-27-disqus/"/>
    <id>http://andysheng.cn/2015/07/26/2015-7-27-disqus/</id>
    <published>2015-07-26T14:52:45.000Z</published>
    <updated>2015-07-26T14:52:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºåœ¨åšå®¢ä¸­ä½¿ç”¨disqusè¯„è®ºï¼ŒèŠ±æ‰äº†æˆ‘åŠä¸ªä¸‹åˆçš„æ—¶é—´ã€‚</p>
<p>é¦–å…ˆè¯´ä¸€ä¸‹disqusã€‚é™æ€åšå®¢åªæ˜¯å‡ ä¸ªå†™æ­»äº†çš„é™æ€é¡µé¢ï¼Œæ²¡æœ‰åå°ï¼Œæ‰€ä»¥è¦å†é™æ€åšå®¢ä¸­åŠ å…¥è¯„è®ºåŠŸèƒ½çš„è¯å°±å¿…é¡»é‡‡ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„æœåŠ¡ã€‚å¤§è‡´çœ‹äº†ä¸€ä¸‹ç”Ÿæˆçš„ç½‘é¡µæºç ï¼Œå…¶å®åŸç†æ¯”è¾ƒç®€å•ã€‚disqusä¼šè¯„è®ºåŠŸèƒ½åšæˆä¸€ä¸ªç®€å•çš„é¡µé¢ï¼Œç„¶ååœ¨åšå®¢ä¸­é‡‡ç”¨iframeæŠŠdisqusæä¾›çš„è¯„è®ºé¡µé¢å¼•å…¥å°±å¯ä»¥äº†ã€‚</p>
<p>æ¥ä¸‹æ¥è¯´ä¸€ä¸‹åœ¨Jekyllä¸­ä½¿ç”¨disqusçš„è¿‡ç¨‹ã€‚æˆ‘é‡‡ç”¨çš„æ˜¯HPSTRä¸»é¢˜ã€‚</p>
<p>å…¶å®è¦ä½¿ç”¨disquså¾ˆç®€å•ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ–‡æ¡£å¯¼è‡´è¸©äº†ä¸å°‘å‘ã€‚</p>
<ul>
<li>å…ˆåœ¨<a href="https://disqus.com/" target="_blank" rel="external">disqus</a>ä¸Šæ³¨å†Œè´¦å·</li>
<li>ç„¶åç‚¹å‡»å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ï¼Œé€‰æ‹©<em>add disqus to site</em>ï¼Œåœ¨é¡µé¢ä¸­è¾“å…¥ç‚¹åšå®¢çš„ä¿¡æ¯</li>
<li>æ¥ç€è¿›å…¥setting&gt;Advancedä¸­ï¼Œå°†åšå®¢çš„åŸŸåå¡«å…¥<em>Trusted Domains</em>å½“ä¸­</li>
<li>æœ€ååœ¨Jekyllçš„<em>_config.yml</em>ä¸­æŠŠè·å¾—åˆ°çš„<em>disqus_shortname</em>å¡«å…¥å³å¯ã€‚è¿™ä¸ªåƒä¸‡ä¸èƒ½å¡«é”™ï¼Œæˆ‘å°±æ˜¯å¡«é”™äº†è¿™ä¸ªä¸œè¥¿ï¼ŒæŠ˜è…¾äº†å¥½ä¹…ã€‚</li>
</ul>
<p>å“¦â€¦è®°å¾—å¼€å¯è¯„è®ºåŠŸèƒ½<code>comments:true</code>ã€‚ç„¶åä¸Šä¼ ä»£ç å°±å¯ä»¥æµ‹è¯•äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ºåœ¨åšå®¢ä¸­ä½¿ç”¨disqusè¯„è®ºï¼ŒèŠ±æ‰äº†æˆ‘åŠä¸ªä¸‹åˆçš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¯´ä¸€ä¸‹disqusã€‚é™æ€åšå®¢åªæ˜¯å‡ ä¸ªå†™æ­»äº†çš„é™æ€é¡µé¢ï¼Œæ²¡æœ‰åå°ï¼Œæ‰€ä»¥è¦å†é™æ€åšå®¢ä¸­åŠ å…¥è¯„è®ºåŠŸèƒ½çš„è¯å°±å¿…é¡»é‡‡ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„æœåŠ¡ã€‚å¤§è‡´çœ‹äº†ä¸€ä¸‹ç”Ÿæˆçš„ç½‘é¡µæºç ï¼Œå…¶å®åŸç†æ¯”è¾ƒç®€å•ã€‚disqusä¼šè¯„è®ºåŠŸèƒ½åšæˆ
    
    </summary>
    
      <category term="zaqizaba" scheme="http://andysheng.cn/categories/zaqizaba/"/>
    
    
      <category term="Jekyll" scheme="http://andysheng.cn/tags/Jekyll/"/>
    
      <category term="disqus" scheme="http://andysheng.cn/tags/disqus/"/>
    
      <category term="blog" scheme="http://andysheng.cn/tags/blog/"/>
    
  </entry>
  
</feed>
